(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c85c74dc"],{"28a5":function(e,t,i){"use strict";var a=i("aae3"),n=i("cb7c"),o=i("ebd6"),r=i("0390"),s=i("9def"),c=i("5f1b"),l=i("520a"),d=i("79e5"),u=Math.min,v=[].push,f="split",g="length",h="lastIndex",p=4294967295,m=!d((function(){RegExp(p,"y")}));i("214f")("split",2,(function(e,t,i,d){var S;return S="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[g]||2!="ab"[f](/(?:ab)*/)[g]||4!="."[f](/(.?)(.?)/)[g]||"."[f](/()()/)[g]>1||""[f](/.?/)[g]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!a(e))return i.call(n,e,t);var o,r,s,c=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,f=void 0===t?p:t>>>0,m=new RegExp(e.source,d+"g");while(o=l.call(m,n)){if(r=m[h],r>u&&(c.push(n.slice(u,o.index)),o[g]>1&&o.index<n[g]&&v.apply(c,o.slice(1)),s=o[0][g],u=r,c[g]>=f))break;m[h]===o.index&&m[h]++}return u===n[g]?!s&&m.test("")||c.push(""):c.push(n.slice(u)),c[g]>f?c.slice(0,f):c}:"0"[f](void 0,0)[g]?function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)}:i,[function(i,a){var n=e(this),o=void 0==i?void 0:i[t];return void 0!==o?o.call(i,n,a):S.call(String(n),i,a)},function(e,t){var a=d(S,e,this,t,S!==i);if(a.done)return a.value;var l=n(e),v=String(this),f=o(l,RegExp),g=l.unicode,h=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(m?"y":"g"),b=new f(m?l:"^(?:"+l.source+")",h),w=void 0===t?p:t>>>0;if(0===w)return[];if(0===v.length)return null===c(b,v)?[v]:[];var y=0,L=0,x=[];while(L<v.length){b.lastIndex=m?L:0;var C,M=c(b,m?v:v.slice(L));if(null===M||(C=u(s(b.lastIndex+(m?0:L)),v.length))===y)L=r(v,L,g);else{if(x.push(v.slice(y,L)),x.length===w)return x;for(var k=1;k<=M.length-1;k++)if(x.push(M[k]),x.length===w)return x;L=y=C}}return x.push(v.slice(y)),x}]}))},aae3:function(e,t,i){var a=i("d3f4"),n=i("2d95"),o=i("2b4c")("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==n(e))}},ac6a:function(e,t,i){for(var a=i("cadf"),n=i("0d58"),o=i("2aba"),r=i("7726"),s=i("32e9"),c=i("84f2"),l=i("2b4c"),d=l("iterator"),u=l("toStringTag"),v=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=n(f),h=0;h<g.length;h++){var p,m=g[h],S=f[m],b=r[m],w=b&&b.prototype;if(w&&(w[d]||s(w,d,v),w[u]||s(w,u,m),c[m]=v,S))for(p in a)w[p]||o(w,p,a[p],!0)}},badf:function(e,t,i){"use strict";i("dbcb")},c89e:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"js005"}},[i("div",{staticClass:"main-title"},[e._v("摄像头拍照")]),i("div",{staticClass:"main-title-time "},[e._v("2020-07-15")]),i("div",{staticClass:"main-title-tip"},[e._v("\n    Vue 调取 自身摄像头 或 外接 USB 摄像头，生成 截图 和 Base 64。\n  ")]),i("div",{staticClass:"main-content"},[i("el-row",[i("el-col",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{span:12}},[i("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"摄像头接入源"},on:{change:e.getStream},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return i("el-option",{key:e.deviceId,attrs:{label:e.label,value:e.deviceId}})})),1),i("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary",plain:""},on:{click:e.doCut}},[e._v("截 图")])],1)],1),i("el-row",{staticStyle:{"margin-top":"20px"}},[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"video1"},[i("video",{attrs:{id:"video",width:"640",height:"480",autoplay:""}})])]),i("el-col",{attrs:{span:12}},[i("div",{staticClass:"video2"},[i("canvas",{staticStyle:{"margin-top":"20px"},attrs:{id:"canvas",width:"320",height:"240"}}),i("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",rows:6},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1)])],1)],1)])},n=[],o=(i("34ef"),i("28a5"),i("ac6a"),{name:"js005",mixins:[],components:{},props:[],created:function(){},watch:{},activated:function(){this.loadVideoSource()},mounted:function(){this.loadVideoSource()},data:function(){return{value:"",textarea:"",options:[],mediaConfig:{video:!0}}},methods:{loadVideoSource:function(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(this.mediaConfig).then((function(e){video.srcObject=e,video.play()}),(function(e){console.log(e)})):navigator.getUserMedia?navigator.getUserMedia(this.mediaConfig,(function(e){video.src=e,video.play()}),(function(e){console.log(e)})):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(this.mediaConfig,(function(e){video.src=window.webkitURL.createObjectURL(e),video.play()}),(function(e){console.log(e)})):navigator.mozGetUserMedia&&navigator.mozGetUserMedia(this.mediaConfig,(function(e){video.src=window.URL.createObjectURL(e),video.play()}),(function(e){console.log(e)})),navigator.mediaDevices.enumerateDevices().then(this.gotDevices).then(this.getStream).catch(this.handleError)},gotDevices:function(e){var t=[];e.map((function(e){"videoinput"==e.kind&&t.push(e)})),this.options=t,this.value=t[0].deviceId},getStream:function(){window.stream&&window.stream.getTracks().forEach((function(e){e.stop()}));var e={video:{deviceId:this.value}};navigator.mediaDevices.getUserMedia(e).then(this.gotStream).catch(this.handleError)},gotStream:function(e){var t=document.querySelector("video");window.stream=e,t.srcObject=e},doCut:function(){var e=document.getElementById("canvas"),t=e.getContext("2d"),i=document.getElementById("video");t.drawImage(i,0,0,320,240);var a=e.toDataURL("Image/jpeg",1);this.textarea=a},base64DateUrlToBlob:function(e,t){for(var i=window.atob(e.split(",")[1]),a=new ArrayBuffer(i.length),n=new Uint8Array(a),o=0;o<i.length;o++)n[o]=i.charCodeAt(o);return new Blob([a],{type:t})},handleError:function(e){console.log(e)}}}),r=o,s=(i("badf"),i("2877")),c=Object(s["a"])(r,a,n,!1,null,"2471a0ad",null);t["default"]=c.exports},dbcb:function(e,t,i){}}]);